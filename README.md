# Transmissor-100m
O sistema é gerenciado pelo microcontrolador da atmel modelo atmega328p operando com clock de 8MHz para que o micro possa operar com uma tensão de trabalho de 2,7V a 5,5V tornando viável a utilização de uma bateria como fonte de alimentação.
O sistema é alimentado por uma célula de li-íon de 4,2V de pico, operando com a tensão nominal de 3,7V modelo 18650 de 15,8Ah, a escolha dessa bateria foi dada por sua ampla utilização no mercado, o que facilitaria na compra do componente, além de sua alta densidade energética, e por ser recarregável acaba tornando o equipamento mais rentável e sustentável.
Uma fonte de step down foi montada utilizando o CI da Onsemi modelo MC34063, para operar na faixa de 3,5V até 4,2V em sua entrada, correspondente a tensão que a célula de lítio consegue entregar sem reduzir a sua vida util. A utilização desse CI foi definida por sua característica de multi operação, de step-down, step-up, e boost, característica que poderia ser aproveitada para outros projetos futuros reduzindo custos para a empresa por utilizar componentes intercambiáveis, além de poder ser substituído facilmente por outro modelo como o MP4460.
Essa fonte entrega 3V em sua saída, capaz de suportar uma carga de até 500mAh, sendo mais que suficiente para o projeto, possibilitando uma operação com aquecimento reduzido, mantendo a sua eficiência a cima dos 90%.
Com o projeto sendo desenvolvido com a meta de transmitir um pacote de 500kB, foi necessário implementar um slot de cartão micro SD para que esse pacote de dados fosse armazenado antes de ser enviado, e como esse modelo de microcontrolador tem apenas 1Kb de memoria EEPROM, com um número de ciclos de escrita e leitura limitados, a melhor escolha de se armazenar esses dados foi utilizar um cartão de memória micro SD, com protocolo SPI de comunicação para acessa-lo.
Para alcançar a distância de 100 metros de transmissão em céu aberto, foi utilizado o chip transmissor da fabricante Nordic, modelo NRF24L01 que opera na faixa de 2.4GHz, chip este muito utilizado em módulos de transmissão sem fio por sua simplicidade e eficiência na transmissão, onde ao se utilizar a antena adequada, os testes mostram mais de 100m de alcance na transmissão dos dados. Com o alcance de envio e o tamanho do equipamento em mente, a utilização de uma antena com conector IPEX utilizado em drones de corrida foi a adotada, por sua impedância compatível com o modulo e por seus valores de ganho, configurações que possibilitam um sistema de comunicação eficiente a distancias consideráveis em tempo real. A comunicação com o microcontrolador é feita via SPI, onde o mestre gerencia o armazenamento dos dados no cartão, e o envio do pacote pelo transmissor sem fio.
Todos os blocos desse sistema foram escolhidos para operar com a mesma tensão de trabalho, a escolha das configurações e dos componentes foi visando esse equilíbrio, que dispensa a utilização de vários reguladores tensão para cada bloco, mantendo o design do projeto com um tamanho reduzido e com uma eficiência energética maior, uma vez que ao utilizar reguladores de tensão linear diminuiria a autonomia do sistema, e a colocação de vários blocos fonte aumentaria as dimensões do equipamento.
Além dos protocolos de proteção do chip de chaveamento da fonte de step-down, contra curto circuito, sobre e subtensão, foi colocado um sistema simples mas eficiente de proteção contra inversão de polaridade da bateria, um problema que poderia ocorrer na montagem do equipamento ou na eventual falta de atenção ao fixar o conector, segurança essa que se abrange a proteção contra sobre carga do sistema preservando a bateria, a implementação desse sistema conta com a utilização de um fusível resetavel de 200mAh, para que em uma eventual falha o sistema esteja protegido, mas não haja perca de tempo no processo de montagem ou instalação, realizando a troca de qualquer componente.
O microcontrolador fica responsável por monitorar a tensão da bateria utilizando uma de suas portas conversoras analógica digital de 10 bits, provendo uma precisão de pouco mais de 4mV, enviando junto a cada pacote de dados, o estado da bateria, possibilitando a troca ou o carregamento da bateria antes de sua total descarga.
  O sistema de recepção utiliza os mesmos componentes e tem as mesmas funções do transmissor, mas sendo habilitado para recepção dos dados. Para uma interface mínima com o usuário, foi implementado um display LCD 128 x 64 caracteres, que pode ser substituído por um display AMOLED para uma maior eficiência, ou para um display TFT, possibilitando ao usuário mais funções de controle, mas mantendo o visual limpo e elegante de uma tela sem botões, e ainda ser tátil tornando o equipamento mais intuitivo e simples.
